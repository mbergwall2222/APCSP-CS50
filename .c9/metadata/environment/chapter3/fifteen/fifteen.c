{"filter":false,"title":"fifteen.c","tooltip":"/chapter3/fifteen/fifteen.c","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":235,"column":8},"end":{"row":235,"column":12},"action":"insert","lines":["    "],"id":178}],[{"start":{"row":234,"column":8},"end":{"row":234,"column":12},"action":"insert","lines":["    "],"id":179}],[{"start":{"row":235,"column":10},"end":{"row":235,"column":12},"action":"insert","lines":["  "],"id":180}],[{"start":{"row":235,"column":8},"end":{"row":235,"column":12},"action":"remove","lines":["    "],"id":181}],[{"start":{"row":235,"column":8},"end":{"row":235,"column":9},"action":"remove","lines":[" "],"id":182}],[{"start":{"row":235,"column":8},"end":{"row":235,"column":9},"action":"remove","lines":[" "],"id":183}],[{"start":{"row":235,"column":8},"end":{"row":235,"column":12},"action":"insert","lines":["    "],"id":184}],[{"start":{"row":235,"column":12},"end":{"row":235,"column":16},"action":"insert","lines":["    "],"id":185}],[{"start":{"row":236,"column":6},"end":{"row":236,"column":8},"action":"insert","lines":["  "],"id":186}],[{"start":{"row":236,"column":8},"end":{"row":236,"column":12},"action":"insert","lines":["    "],"id":187}],[{"start":{"row":237,"column":8},"end":{"row":237,"column":12},"action":"insert","lines":["    "],"id":188}],[{"start":{"row":237,"column":12},"end":{"row":237,"column":16},"action":"insert","lines":["    "],"id":189}],[{"start":{"row":238,"column":4},"end":{"row":238,"column":8},"action":"insert","lines":["    "],"id":190}],[{"start":{"row":238,"column":8},"end":{"row":238,"column":12},"action":"insert","lines":["    "],"id":191}],[{"start":{"row":239,"column":4},"end":{"row":239,"column":8},"action":"insert","lines":["    "],"id":192}],[{"start":{"row":239,"column":8},"end":{"row":239,"column":12},"action":"insert","lines":["    "],"id":193}],[{"start":{"row":240,"column":4},"end":{"row":240,"column":8},"action":"insert","lines":["    "],"id":194}],[{"start":{"row":240,"column":8},"end":{"row":240,"column":12},"action":"insert","lines":["    "],"id":195}],[{"start":{"row":241,"column":6},"end":{"row":241,"column":8},"action":"insert","lines":["  "],"id":196}],[{"start":{"row":241,"column":8},"end":{"row":241,"column":12},"action":"insert","lines":["    "],"id":197}],[{"start":{"row":241,"column":12},"end":{"row":241,"column":16},"action":"insert","lines":["    "],"id":198}],[{"start":{"row":242,"column":8},"end":{"row":242,"column":12},"action":"insert","lines":["    "],"id":199}],[{"start":{"row":242,"column":12},"end":{"row":242,"column":16},"action":"insert","lines":["    "],"id":200}],[{"start":{"row":242,"column":16},"end":{"row":242,"column":20},"action":"insert","lines":["    "],"id":201}],[{"start":{"row":243,"column":6},"end":{"row":243,"column":8},"action":"insert","lines":["  "],"id":202}],[{"start":{"row":243,"column":8},"end":{"row":243,"column":12},"action":"insert","lines":["    "],"id":203}],[{"start":{"row":243,"column":12},"end":{"row":243,"column":16},"action":"insert","lines":["    "],"id":204}],[{"start":{"row":244,"column":8},"end":{"row":244,"column":12},"action":"insert","lines":["    "],"id":205}],[{"start":{"row":244,"column":12},"end":{"row":244,"column":16},"action":"insert","lines":["    "],"id":206}],[{"start":{"row":244,"column":16},"end":{"row":244,"column":20},"action":"insert","lines":["    "],"id":207}],[{"start":{"row":245,"column":4},"end":{"row":245,"column":8},"action":"insert","lines":["    "],"id":208}],[{"start":{"row":245,"column":8},"end":{"row":245,"column":12},"action":"insert","lines":["    "],"id":209}],[{"start":{"row":246,"column":4},"end":{"row":246,"column":8},"action":"insert","lines":["    "],"id":210}],[{"start":{"row":246,"column":8},"end":{"row":246,"column":12},"action":"insert","lines":["    "],"id":211}],[{"start":{"row":247,"column":4},"end":{"row":247,"column":8},"action":"insert","lines":["    "],"id":212}],[{"start":{"row":247,"column":8},"end":{"row":247,"column":12},"action":"insert","lines":["    "],"id":213}],[{"start":{"row":248,"column":6},"end":{"row":248,"column":8},"action":"insert","lines":["  "],"id":214}],[{"start":{"row":248,"column":8},"end":{"row":248,"column":12},"action":"insert","lines":["    "],"id":215}],[{"start":{"row":248,"column":12},"end":{"row":248,"column":16},"action":"insert","lines":["    "],"id":216}],[{"start":{"row":249,"column":8},"end":{"row":249,"column":12},"action":"insert","lines":["    "],"id":217}],[{"start":{"row":249,"column":12},"end":{"row":249,"column":16},"action":"insert","lines":["    "],"id":218}],[{"start":{"row":249,"column":16},"end":{"row":249,"column":20},"action":"insert","lines":["    "],"id":219}],[{"start":{"row":250,"column":6},"end":{"row":250,"column":8},"action":"insert","lines":["  "],"id":220}],[{"start":{"row":250,"column":8},"end":{"row":250,"column":12},"action":"insert","lines":["    "],"id":221}],[{"start":{"row":250,"column":12},"end":{"row":250,"column":16},"action":"insert","lines":["    "],"id":222}],[{"start":{"row":251,"column":7},"end":{"row":251,"column":8},"action":"insert","lines":[" "],"id":223}],[{"start":{"row":251,"column":8},"end":{"row":251,"column":12},"action":"insert","lines":["    "],"id":224}],[{"start":{"row":251,"column":12},"end":{"row":251,"column":16},"action":"insert","lines":["    "],"id":225}],[{"start":{"row":251,"column":16},"end":{"row":251,"column":17},"action":"remove","lines":[" "],"id":226}],[{"start":{"row":251,"column":16},"end":{"row":251,"column":20},"action":"insert","lines":["    "],"id":227}],[{"start":{"row":252,"column":6},"end":{"row":252,"column":8},"action":"insert","lines":["  "],"id":228}],[{"start":{"row":252,"column":8},"end":{"row":252,"column":12},"action":"insert","lines":["    "],"id":229}],[{"start":{"row":252,"column":12},"end":{"row":252,"column":16},"action":"insert","lines":["    "],"id":230}],[{"start":{"row":253,"column":8},"end":{"row":253,"column":12},"action":"insert","lines":["    "],"id":231}],[{"start":{"row":253,"column":12},"end":{"row":253,"column":16},"action":"insert","lines":["    "],"id":232}],[{"start":{"row":253,"column":16},"end":{"row":253,"column":20},"action":"insert","lines":["    "],"id":233}],[{"start":{"row":254,"column":4},"end":{"row":254,"column":8},"action":"insert","lines":["    "],"id":234}],[{"start":{"row":254,"column":8},"end":{"row":254,"column":12},"action":"insert","lines":["    "],"id":235}],[{"start":{"row":254,"column":12},"end":{"row":254,"column":16},"action":"insert","lines":["    "],"id":236}],[{"start":{"row":254,"column":12},"end":{"row":254,"column":16},"action":"remove","lines":["    "],"id":237}],[{"start":{"row":255,"column":2},"end":{"row":255,"column":4},"action":"insert","lines":["  "],"id":238}],[{"start":{"row":255,"column":4},"end":{"row":255,"column":8},"action":"insert","lines":["    "],"id":239}],[{"start":{"row":256,"column":2},"end":{"row":256,"column":4},"action":"insert","lines":["  "],"id":240}],[{"start":{"row":256,"column":4},"end":{"row":256,"column":8},"action":"insert","lines":["    "],"id":241}],[{"start":{"row":168,"column":27},"end":{"row":168,"column":28},"action":"remove","lines":[" "],"id":242},{"start":{"row":170,"column":31},"end":{"row":170,"column":32},"action":"remove","lines":[" "]},{"start":{"row":175,"column":17},"end":{"row":175,"column":18},"action":"remove","lines":[" "]},{"start":{"row":186,"column":31},"end":{"row":186,"column":32},"action":"remove","lines":[" "]},{"start":{"row":189,"column":35},"end":{"row":189,"column":36},"action":"remove","lines":[" "]},{"start":{"row":191,"column":33},"end":{"row":191,"column":34},"action":"remove","lines":[" "]},{"start":{"row":204,"column":19},"end":{"row":204,"column":20},"action":"remove","lines":[" "]},{"start":{"row":206,"column":24},"end":{"row":206,"column":25},"action":"remove","lines":[" "]},{"start":{"row":213,"column":31},"end":{"row":213,"column":32},"action":"remove","lines":[" "]},{"start":{"row":220,"column":12},"end":{"row":220,"column":13},"action":"remove","lines":[" "]},{"start":{"row":230,"column":22},"end":{"row":230,"column":23},"action":"remove","lines":[" "]},{"start":{"row":232,"column":24},"end":{"row":232,"column":25},"action":"remove","lines":[" "]},{"start":{"row":239,"column":35},"end":{"row":239,"column":36},"action":"remove","lines":[" "]},{"start":{"row":246,"column":16},"end":{"row":246,"column":17},"action":"remove","lines":[" "]},{"start":{"row":256,"column":29},"end":{"row":256,"column":30},"action":"remove","lines":[" "]},{"start":{"row":265,"column":25},"end":{"row":265,"column":26},"action":"remove","lines":[" "]}],[{"start":{"row":205,"column":6},"end":{"row":206,"column":0},"action":"insert","lines":["",""],"id":243},{"start":{"row":206,"column":0},"end":{"row":206,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":208,"column":10},"end":{"row":209,"column":0},"action":"insert","lines":["",""],"id":244},{"start":{"row":209,"column":0},"end":{"row":209,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":216,"column":10},"end":{"row":217,"column":0},"action":"insert","lines":["",""],"id":245},{"start":{"row":217,"column":0},"end":{"row":217,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":224,"column":10},"end":{"row":225,"column":0},"action":"insert","lines":["",""],"id":246},{"start":{"row":225,"column":0},"end":{"row":225,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":235,"column":6},"end":{"row":236,"column":0},"action":"insert","lines":["",""],"id":247},{"start":{"row":236,"column":0},"end":{"row":236,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":238,"column":10},"end":{"row":239,"column":0},"action":"insert","lines":["",""],"id":248},{"start":{"row":239,"column":0},"end":{"row":239,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":246,"column":14},"end":{"row":247,"column":0},"action":"insert","lines":["",""],"id":249},{"start":{"row":247,"column":0},"end":{"row":247,"column":16},"action":"insert","lines":["                "]}],[{"start":{"row":254,"column":14},"end":{"row":255,"column":0},"action":"insert","lines":["",""],"id":250},{"start":{"row":255,"column":0},"end":{"row":255,"column":16},"action":"insert","lines":["                "]}],[{"start":{"row":265,"column":4},"end":{"row":266,"column":0},"action":"insert","lines":["",""],"id":251},{"start":{"row":266,"column":0},"end":{"row":266,"column":6},"action":"insert","lines":["      "]}],[{"start":{"row":205,"column":5},"end":{"row":205,"column":6},"action":"remove","lines":[" "],"id":252},{"start":{"row":208,"column":9},"end":{"row":208,"column":10},"action":"remove","lines":[" "]},{"start":{"row":216,"column":9},"end":{"row":216,"column":10},"action":"remove","lines":[" "]},{"start":{"row":224,"column":9},"end":{"row":224,"column":10},"action":"remove","lines":[" "]},{"start":{"row":235,"column":5},"end":{"row":235,"column":6},"action":"remove","lines":[" "]},{"start":{"row":238,"column":9},"end":{"row":238,"column":10},"action":"remove","lines":[" "]},{"start":{"row":246,"column":13},"end":{"row":246,"column":14},"action":"remove","lines":[" "]},{"start":{"row":254,"column":13},"end":{"row":254,"column":14},"action":"remove","lines":[" "]},{"start":{"row":265,"column":3},"end":{"row":265,"column":4},"action":"remove","lines":[" "]}],[{"start":{"row":204,"column":16},"end":{"row":204,"column":17},"action":"insert","lines":[" "],"id":253}],[{"start":{"row":204,"column":18},"end":{"row":204,"column":19},"action":"insert","lines":[" "],"id":254}],[{"start":{"row":210,"column":25},"end":{"row":210,"column":26},"action":"insert","lines":[" "],"id":255}],[{"start":{"row":210,"column":27},"end":{"row":210,"column":28},"action":"insert","lines":[" "],"id":256}],[{"start":{"row":210,"column":44},"end":{"row":210,"column":45},"action":"insert","lines":["{"],"id":257}],[{"start":{"row":210,"column":45},"end":{"row":212,"column":13},"action":"insert","lines":["","                ","            }"],"id":258}],[{"start":{"row":211,"column":12},"end":{"row":211,"column":16},"action":"remove","lines":["    "],"id":259},{"start":{"row":211,"column":8},"end":{"row":211,"column":12},"action":"remove","lines":["    "]},{"start":{"row":211,"column":4},"end":{"row":211,"column":8},"action":"remove","lines":["    "]},{"start":{"row":211,"column":0},"end":{"row":211,"column":4},"action":"remove","lines":["    "]},{"start":{"row":210,"column":45},"end":{"row":211,"column":0},"action":"remove","lines":["",""]},{"start":{"row":210,"column":44},"end":{"row":210,"column":45},"action":"remove","lines":["{"]}],[{"start":{"row":210,"column":44},"end":{"row":211,"column":0},"action":"insert","lines":["",""],"id":260},{"start":{"row":211,"column":0},"end":{"row":211,"column":12},"action":"insert","lines":["            "]},{"start":{"row":211,"column":12},"end":{"row":211,"column":13},"action":"insert","lines":["{"]}],[{"start":{"row":211,"column":12},"end":{"row":211,"column":13},"action":"remove","lines":["{"],"id":261}],[{"start":{"row":211,"column":12},"end":{"row":211,"column":13},"action":"insert","lines":["{"],"id":262}],[{"start":{"row":211,"column":13},"end":{"row":213,"column":13},"action":"insert","lines":["","                ","            }"],"id":263}],[{"start":{"row":214,"column":12},"end":{"row":214,"column":13},"action":"remove","lines":["}"],"id":264},{"start":{"row":214,"column":8},"end":{"row":214,"column":12},"action":"remove","lines":["    "]},{"start":{"row":214,"column":4},"end":{"row":214,"column":8},"action":"remove","lines":["    "]},{"start":{"row":214,"column":0},"end":{"row":214,"column":4},"action":"remove","lines":["    "]},{"start":{"row":213,"column":13},"end":{"row":214,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":214,"column":16},"end":{"row":214,"column":28},"action":"remove","lines":["return true;"],"id":265}],[{"start":{"row":212,"column":13},"end":{"row":212,"column":14},"action":"remove","lines":[" "],"id":266},{"start":{"row":212,"column":12},"end":{"row":212,"column":13},"action":"remove","lines":[" "]}],[{"start":{"row":212,"column":12},"end":{"row":212,"column":16},"action":"insert","lines":["    "],"id":267}],[{"start":{"row":212,"column":16},"end":{"row":212,"column":28},"action":"insert","lines":["return true;"],"id":268}],[{"start":{"row":214,"column":8},"end":{"row":214,"column":9},"action":"remove","lines":[" "],"id":269},{"start":{"row":214,"column":4},"end":{"row":214,"column":8},"action":"remove","lines":["    "]},{"start":{"row":214,"column":0},"end":{"row":214,"column":4},"action":"remove","lines":["    "]},{"start":{"row":213,"column":13},"end":{"row":214,"column":7},"action":"remove","lines":["","       "]}],[{"start":{"row":214,"column":47},"end":{"row":214,"column":48},"action":"insert","lines":[" "],"id":270},{"start":{"row":214,"column":48},"end":{"row":214,"column":49},"action":"insert","lines":["{"]}],[{"start":{"row":214,"column":49},"end":{"row":216,"column":13},"action":"insert","lines":["","                ","            }"],"id":271}],[{"start":{"row":215,"column":16},"end":{"row":216,"column":0},"action":"insert","lines":["",""],"id":272},{"start":{"row":216,"column":0},"end":{"row":216,"column":16},"action":"insert","lines":["                "]}],[{"start":{"row":216,"column":12},"end":{"row":216,"column":16},"action":"remove","lines":["    "],"id":273},{"start":{"row":216,"column":8},"end":{"row":216,"column":12},"action":"remove","lines":["    "]},{"start":{"row":216,"column":4},"end":{"row":216,"column":8},"action":"remove","lines":["    "]},{"start":{"row":216,"column":0},"end":{"row":216,"column":4},"action":"remove","lines":["    "]},{"start":{"row":215,"column":16},"end":{"row":216,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":217,"column":16},"end":{"row":217,"column":28},"action":"remove","lines":["return true;"],"id":274}],[{"start":{"row":215,"column":15},"end":{"row":215,"column":27},"action":"insert","lines":["return true;"],"id":275}],[{"start":{"row":217,"column":4},"end":{"row":217,"column":5},"action":"remove","lines":[" "],"id":276},{"start":{"row":217,"column":0},"end":{"row":217,"column":4},"action":"remove","lines":["    "]},{"start":{"row":216,"column":13},"end":{"row":217,"column":11},"action":"remove","lines":["","           "]}],[{"start":{"row":212,"column":28},"end":{"row":212,"column":30},"action":"remove","lines":["  "],"id":277},{"start":{"row":215,"column":27},"end":{"row":215,"column":28},"action":"remove","lines":[" "]}],[{"start":{"row":0,"column":0},"end":{"row":340,"column":0},"action":"remove","lines":["// Implements Game of Fifteen (generalized to d x d)","","#define _XOPEN_SOURCE 500","","#include <cs50.h>","#include <stdio.h>","#include <stdlib.h>","#include <unistd.h>","","// Constants","#define DIM_MIN 3","#define DIM_MAX 9","#define COLOR \"\\033[32m\"","","// Board","int board[DIM_MAX][DIM_MAX];","","// Dimensions","int d;","","// Saved locations of the blank tile","int blank_row;","int blank_col;","","// Prototypes","void clear(void);","void greet(void);","void init(void);","void draw(void);","bool move(int tile);","bool won(void);","void swap(int a, int b);","void print_grid_row(int d);","void print_tile(int tile);","","int main(int argc, string argv[])","{","    // Ensure proper usage","    if (argc != 2)","    {","        printf(\"Usage: fifteen d\\n\");","        return 1;","    }","","    // Ensure valid dimensions","    d = atoi(argv[1]);","    if (d < DIM_MIN || d > DIM_MAX)","    {","        printf(\"Board must be between %i x %i and %i x %i, inclusive.\\n\",","               DIM_MIN, DIM_MIN, DIM_MAX, DIM_MAX);","        return 2;","    }","","    // Open log","    FILE *file = fopen(\"log.txt\", \"w\");","    if (file == NULL)","    {","        return 3;","    }","","    // Greet user with instructions","    greet();","","    // Initialize the board","    init();","","    // Accept moves until game is won","    while (true)","    {","        // Clear the screen","        clear();","","        // Draw the current state of the board","        draw();","","        // Log the current state of the board (for testing)","        for (int i = 0; i < d; i++)","        {","            for (int j = 0; j < d; j++)","            {","                fprintf(file, \"%i\", board[i][j]);","                if (j < d - 1)","                {","                    fprintf(file, \"|\");","                }","            }","            fprintf(file, \"\\n\");","        }","        fflush(file);","","        // Check for win","        if (won())","        {","            printf(\"ftw!\\n\");","            break;","        }","","        // Prompt for move","        int tile = get_int(\"Tile to move: \");","","        // Quit if user inputs 0 (for testing)","        if (tile == 0)","        {","            break;","        }","","        // Log move (for testing)","        fprintf(file, \"%i\\n\", tile);","        fflush(file);","","        // Move if possible, else report illegality","        if (!move(tile))","        {","            printf(\"\\nIllegal move.\\n\");","            usleep(500000);","        }","","        // Sleep thread for animation's sake","        usleep(50000);","    }","","    // Close log","    fclose(file);","","    // Success","    return 0;","}","","// Clears screen using ANSI escape sequences","void clear(void)","{","    printf(\"\\033[2J\");","    printf(\"\\033[%d;%dH\", 0, 0);","}","","// Greets player","void greet(void)","{","    clear();","    printf(\"WELCOME TO GAME OF FIFTEEN\\n\");","    usleep(2000000);","}","","void","swap(int i, int j)","{","    int temp;","    for (int a = 0; a < d; a++)","    {","        for (int b = 0; b < d; b++)","        {","            if (board[a][b] == 0)","            {","                temp = board[a][b];","                board[a][b] = board[i][j];","                board[i][j] = temp;","                return;","            }","        }","    }","}","","// Initializes the game's board with tiles numbered 1 through d*d - 1","// (i.e., fills 2D array with values but does not actually print them)","void init(void)","{","    int i, j;","    int sv = d * d; // left most value","    for (i = 0; i < d; i++)","    { // rows","        for (j = 0; j < d; j++)","        { // columns","            board[i][j] = --sv;","        }","    }","    if (d%2 == 0)","    { // swap 3 and 2 tiles if d is an even number","        int temp = board[i-1][j-2];","        board[i-1][j-2] = board[i-1][j-3];","        board[i-1][j-3] = temp;","    }","}","","// Prints the board in its current state","void draw(void)","{","    for (int i = 0; i < d; i++)","    { // rows","        printf(\"\\n\");","        for (int j = 0; j < d; j++)","        { // columns","            if (board[i][j] == 0)","            {","                printf(\"%3c| \", 95); // underscore","                continue;","            }","            printf(\"%3d| \", board[i][j]);","        }","    }","    printf(\"\\n\\n\");","}","bool","check(int row, int column)","{","    if (row == d - 1)","    {","        // last row","        if (column == 0)","        {","            // last row FIRST column |_","            if (board[row - 1][column] == 0)","            {","                return true;","            }","            else if (board[row][column+1] == 0) {","               return true;","            }","        }","        else if (column == d-1)","        {","            // last row LAST column _|","            if (board[row-1][column] == 0)","                return true;","            else if (board[row][column-1] == 0)","                return true;","        }","        else","        {","            // last row MID column","            if (board[row-1][column] == 0)","                return true;","            else if (board[row][column-1] == 0)","                return true;","            else if (board[row][column+1] == 0)","                return true;","        }","    }","    else if (row == 0)","    {","        // first row","        if (column == 0)","        {","            // first row FIRST column |^","            if (board[row][column+1] == 0)","                return true;","            else if (board[row+1][column] == 0)","                return true;","            }","            else if (column == d-1)","            {","                // first row LAST column ^|","                if (board[row][column-1] == 0)","                    return true;","                else if (board[row+1][column] == 0)","                    return true;","            }","            else","            {","                // top row MID column","                if (board[row+1][column] == 0)","                    return true;","                else if (board[row][column+1] == 0)","                    return true;","                else if (board[row][column-1] == 0)","                    return true;","            }","        }","        else if (column == 0)","  {","      // first column |->","    if (board[row-1][column] == 0) // up","      return true;","    else if (board[row+1][column] == 0) // down","           return true;","    else if (board[row][column+1] == 0)","      return true; // -> right","  }","  else if (column == d-1)","  { // last column <-|","    if (board[row-1][column] == 0) // up","      return true;","    else if (board[row+1][column] == 0) // down","           return true;","    else if (board[row][column-1] == 0)","      return true; // <- left","  }","   else","    {","      if (board[row+1][column] == 0) // row","        return true;","      else if (board[row-1][column] == 0) // down","        return true;","      else if (board[row][column+1] == 0) // ->","        return true;","      else if (board[row][column-1] == 0) // <-","        return true;","    }","","  return false;","}","","","// If tile borders empty space, moves tile and returns true, else returns false","bool move(int tile)","{","   // check block for tile","  for (int i = 0; i < d; i++) { // row","    for (int j = 0; j < d; j++) { // column","      if (board[i][j] == tile) {","        if (!check(i,j)) // TODO","          return false;","        else {","          swap(i,j); // TODO","          return true;","        }","      }","    }","  }"," return false;","}","","// Returns true if game is won (i.e., board is in winning configuration), else false","bool won(void)","{","   int end = d * d - 1;","  int check = 1;","  for (int i = 0; i < d; i++) {","    for (int j = 0; j < d; j++) {","      if (board[i][j] == check && check <= end) {","        check = check + 1;","        continue;","      }","      else if (check > end)","        return true;","      else","        break;","    }","  }","    return false;","}",""],"id":278},{"start":{"row":0,"column":0},"end":{"row":405,"column":0},"action":"insert","lines":["// Implements Game of Fifteen (generalized to d x d)","","#define _XOPEN_SOURCE 500","","#include <cs50.h>","#include <stdio.h>","#include <stdlib.h>","#include <unistd.h>","","// Constants","#define DIM_MIN 3","#define DIM_MAX 9","#define COLOR \"\\033[32m\"","","// Board","int board[DIM_MAX][DIM_MAX];","","// Dimensions","int d;","","// Saved locations of the blank tile","int blank_row;","int blank_col;","","// Prototypes","void clear(void);","void greet(void);","void init(void);","void draw(void);","bool move(int tile);","bool won(void);","void swap(int a, int b);","void print_grid_row(int d);","void print_tile(int tile);","","int main(int argc, string argv[])","{","    // Ensure proper usage","    if (argc != 2)","    {","        printf(\"Usage: fifteen d\\n\");","        return 1;","    }","","    // Ensure valid dimensions","    d = atoi(argv[1]);","    if (d < DIM_MIN || d > DIM_MAX)","    {","        printf(\"Board must be between %i x %i and %i x %i, inclusive.\\n\",","               DIM_MIN, DIM_MIN, DIM_MAX, DIM_MAX);","        return 2;","    }","","    // Open log","    FILE *file = fopen(\"log.txt\", \"w\");","    if (file == NULL)","    {","        return 3;","    }","","    // Greet user with instructions","    greet();","","    // Initialize the board","    init();","","    // Accept moves until game is won","    while (true)","    {","        // Clear the screen","        clear();","","        // Draw the current state of the board","        draw();","","        // Log the current state of the board (for testing)","        for (int i = 0; i < d; i++)","        {","            for (int j = 0; j < d; j++)","            {","                fprintf(file, \"%i\", board[i][j]);","                if (j < d - 1)","                {","                    fprintf(file, \"|\");","                }","            }","            fprintf(file, \"\\n\");","        }","        fflush(file);","","        // Check for win","        if (won())","        {","            printf(\"ftw!\\n\");","            break;","        }","","        // Prompt for move","        int tile = get_int(\"Tile to move: \");","","        // Quit if user inputs 0 (for testing)","        if (tile == 0)","        {","            break;","        }","","        // Log move (for testing)","        fprintf(file, \"%i\\n\", tile);","        fflush(file);","","        // Move if possible, else report illegality","        if (!move(tile))","        {","            printf(\"\\nIllegal move.\\n\");","            usleep(500000);","        }","","        // Sleep thread for animation's sake","        usleep(50000);","    }","","    // Close log","    fclose(file);","","    // Success","    return 0;","}","","// Clears screen using ANSI escape sequences","void clear(void)","{","    printf(\"\\033[2J\");","    printf(\"\\033[%d;%dH\", 0, 0);","}","","// Greets player","void greet(void)","{","    clear();","    printf(\"WELCOME TO GAME OF FIFTEEN\\n\");","    usleep(2000000);","}","","void","swap(int i, int j)","{","    int temp;","    for (int a = 0; a < d; a++)","    {","        for (int b = 0; b < d; b++)","        {","            if (board[a][b] == 0)","            {","                temp = board[a][b];","                board[a][b] = board[i][j];","                board[i][j] = temp;","                return;","            }","        }","    }","}","","// Initializes the game's board with tiles numbered 1 through d*d - 1","// (i.e., fills 2D array with values but does not actually print them)","void init(void)","{","    int i, j;","    int sv = d * d; // left most value","    for (i = 0; i < d; i++)","    {","        // rows","        for (j = 0; j < d; j++)","        {","            // columns","            board[i][j] = --sv;","        }","    }","    if (d % 2 == 0)","    {","        // swap 3 and 2 tiles if d is an even number","        int temp = board[i - 1][j - 2];","        board[i - 1][j - 2] = board[i - 1][j - 3];","        board[i - 1][j - 3] = temp;","    }","}","","// Prints the board in its current state","void draw(void)","{","    for (int i = 0; i < d; i++)","    {","        // rows","        printf(\"\\n\");","        for (int j = 0; j < d; j++)","        {","            // columns","            if (board[i][j] == 0)","            {","                printf(\"%3c| \", 95); // underscore","                continue;","            }","            printf(\"%3d| \", board[i][j]);","        }","    }","    printf(\"\\n\\n\");","}","bool","check(int row, int column)","{","    if (row == d - 1)","    {","        // last row","        if (column == 0)","        {","            // last row FIRST column |_","            if (board[row - 1][column] == 0)","            {","                return true;","            }","            else if (board[row][column + 1] == 0)","            {","                return true;","            }","        }","        else if (column == d - 1)","        {","            // last row LAST column _|","            if (board[row - 1][column] == 0)","            {","                return true;","            }","            else if (board[row][column - 1] == 0)","            {","                return true;","            }","        }","        else","        {","            // last row MID column","            if (board[row - 1][column] == 0)","            {","                return true;","            }","            else if (board[row][column - 1] == 0)","            {","                return true;","            }","            else if (board[row][column + 1] == 0)","            {","                return true;","            }","        }","    }","    else if (row == 0)","    {","        // first row","        if (column == 0)","        {","            // first row FIRST column |^","            if (board[row][column + 1] == 0)","            {","                return true;","            }","            else if (board[row + 1][column] == 0)","            {","                return true;","            }","        }","        else if (column == d - 1)","        {","            // first row LAST column ^|","            if (board[row][column - 1] == 0)","            {","                return true;","            }","            else if (board[row + 1][column] == 0)","            {","                return true;","            }","        }","        else","        {","            // top row MID column","            if (board[row + 1][column] == 0)","            {","                return true;","            }","            else if (board[row][column + 1] == 0)","            {","                return true;","            }","            else if (board[row][column - 1] == 0)","            {","                return true;","            }","        }","    }","    else if (column == 0)","    {","        // first column |->","        if (board[row - 1][column] == 0) // up","        {","            return true;","        }","        else if (board[row + 1][column] == 0) // down","        {","            return true;","        }","        else if (board[row][column + 1] == 0)","        {","            return true;    // -> right","        }","    }","    else if (column == d - 1)","    {","        // last column <-|","        if (board[row - 1][column] == 0) // up","        {","            return true;","        }","        else if (board[row + 1][column] == 0) // down","        {","            return true;","        }","        else if (board[row][column - 1] == 0)","        {","            return true;    // <- left","        }","    }","    else","    {","        if (board[row + 1][column] == 0) // row","        {","            return true;","        }","        else if (board[row - 1][column] == 0) // down","        {","            return true;","        }","        else if (board[row][column + 1] == 0) // ->","        {","            return true;","        }","        else if (board[row][column - 1] == 0) // <-","        {","            return true;","        }","    }","","    return false;","}","","","// If tile borders empty space, moves tile and returns true, else returns false","bool move(int tile)","{","    // check block for tile","    for (int i = 0; i < d; i++)   // row","    {","        for (int j = 0; j < d; j++)   // column","        {","            if (board[i][j] == tile)","            {","                if (!check(i, j)) // TODO","                {","                    return false;","                }","                else","                {","                    swap(i, j); // TODO","                    return true;","                }","            }","        }","    }","    return false;","}","","// Returns true if game is won (i.e., board is in winning configuration), else false","bool won(void)","{","    int end = d * d - 1;","    int check = 1;","    for (int i = 0; i < d; i++)","    {","        for (int j = 0; j < d; j++)","        {","            if (board[i][j] == check && check <= end)","            {","                check = check + 1;","                continue;","            }","            else if (check > end)","            {","                return true;","            }","            else","            {","                break;","            }","        }","    }","    return false;","}","",""]}]]},"ace":{"folds":[],"scrolltop":6202,"scrollleft":0,"selection":{"start":{"row":391,"column":13},"end":{"row":391,"column":13},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":386,"state":"start","mode":"ace/mode/c_cpp"}},"timestamp":1583244075087,"hash":"9466196941232f1b5f71d119ae83bed708bd869e"}